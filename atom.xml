<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Thinker&#39;s Notes</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2018-10-25T12:07:45.880Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>lan_shipeng</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>mysql数据库使用规范总结</title>
    <link href="http://yoursite.com/2018/10/25/sql/"/>
    <id>http://yoursite.com/2018/10/25/sql/</id>
    <published>2018-10-25T08:40:40.987Z</published>
    <updated>2018-10-25T12:07:45.880Z</updated>
    
    <content type="html"><![CDATA[<h3 id="基本规范"><a href="#基本规范" class="headerlink" title="基本规范"></a>基本规范</h3><ul><li>表存储引擎设置为innodb</li><li>表字符集默认使用utf8,必要时使用utf8mb4。utf8mb4是utf8的超集,有存储4字节例如表情符号时使用他。</li><li><p>禁止数据库中存储大文件,例如照片.可以将大文件存储在对象存储系统中。数据库存储路径</p></li><li><p>一般不使用存储过程、视图、触发器,event.对数据库性能影响大，调试，排错，迁移都比较困难.拓展性差</p></li><li>对于互联网业务，能让站点层和服务层干的事,不要交到数据库</li></ul><h3 id="命名规范"><a href="#命名规范" class="headerlink" title="命名规范"></a>命名规范</h3><ul><li>库名，表名,列名都必须小写,采用下划线分割</li><li>库名，表名,列名最好见名知意。长度不超过32个字符</li><li>库备份以bak为前缀，日期为后缀</li><li>从库以-s为后缀</li><li>备库以-ss为后缀</li></ul><h3 id="建表规范"><a href="#建表规范" class="headerlink" title="建表规范"></a>建表规范</h3><ul><li>单实例表个数控制在2000个以内</li><li>单表分表个数控制在1024个以内</li><li><p>表必须有主键，一般使用unsigned整数类型为主键  </p><ul><li>删除无主键的表,如果是row模式的主从架构。从库会挂住</li></ul></li><li><p>一般不使用外键,如果要保证完整性。应该由应用程式实现  </p><ul><li>外键使得表之间相互耦合，影响update/delete性能.有可能造成死锁</li></ul></li><li>建议将大字段,访问频率少的字段拆分到单独表中存储，分离冷热数据  </li></ul><h3 id="列设计规范"><a href="#列设计规范" class="headerlink" title="列设计规范"></a>列设计规范</h3><ul><li>根据业务区分使用tinyint/int/bigint,分别占用1/4/8字节</li><li><p>根据业务区分使用char/varchar</p><ul><li>字段长度固定,或者长度近似的业务场景,适用char,能减少碎片,查询性能高</li><li>字段长度相差大，或者更新少的业务场景，适合使用varchar,可以减少空间</li></ul></li><li><p>根据业务区分使用datetime/timestamp(分别占5/4字节)</p></li><li><p>把not null字段设置为默认值.因为null的列使用索引统计,值都更加复杂。更难优化。只能使用is null 或者is not null 而在=/!=/in/not in有大坑</p></li><li><p>使用int unsigned 存储ipv4 ,不要用char(15).</p></li><li>使用varchar(20)存储手机号,不要用整数</li><li>varchar可以模糊查询</li></ul><h3 id="索引规范"><a href="#索引规范" class="headerlink" title="索引规范"></a>索引规范</h3><ul><li>唯一索引使用uniq_[字段名]来命名</li><li>非唯一索引使用idx_[字段名]来命名</li><li><p>单张表索引数量控制在5个以内</p><ul><li>太多索引影响写性能;生成执行计划时,如果索引太多,会降低性能.并可能导致mysql选择不到最优索引</li></ul></li><li>组合索引字段数建议不超过5个</li><li>不建议在频繁更新的字段上建立索引</li><li>非必要不用join查询，如果要join查询,被join的字段必须类型相同,并建立索引</li><li>组合索引最前缀原则,避免重复建索引,如果建立了(a,b,c)相当于建立了(a),(a,b),(a,b,c)</li></ul><h3 id="sql书写规范"><a href="#sql书写规范" class="headerlink" title="sql书写规范"></a>sql书写规范</h3><ul><li>尽量不写select *，只获取必要字段.否则会增加cpu/io/内存/带宽的消耗</li><li>同一个字段上的or改写成in,in的值要少于50个</li><li>应用程序捕获sql异常，方便定位线上问题         </li><li>insert必须指定字段,禁止使用insert into table values()</li><li>尽量不对大表join和子查询</li></ul><h3 id="建表实例"><a href="#建表实例" class="headerlink" title="建表实例"></a>建表实例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE `user` (</span><br><span class="line">`user_id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT &apos;会员信息表主键，自增长&apos;,</span><br><span class="line">`uuid` bigint(20) DEFAULT &apos;0&apos; COMMENT &apos;会员唯一标识表主键，自增长&apos;,</span><br><span class="line">`guid` bigint(20) DEFAULT &apos;0&apos; COMMENT &apos;用户中心全局ID&apos;,</span><br><span class="line">`is_certed` tinyint(4) DEFAULT &apos;2&apos; COMMENT &apos;是否认证，1 认证 2  未认证&apos;,</span><br><span class="line">`mobile` varchar(40) COLLATE utf8mb4_bin NOT NULL COMMENT &apos;手机号码&apos;,</span><br><span class="line">`last_login_tm` datetime(6) DEFAULT &apos;0000-00-00 00:00:00.000000&apos; COMMENT &apos;最后一次登录时间&apos;,</span><br><span class="line">`last_login_device` varchar(20) COLLATE utf8mb4_bin DEFAULT NULL COMMENT &apos;最后一次登录设备号&apos;,</span><br><span class="line">`remark` varchar(250) COLLATE utf8mb4_bin DEFAULT &apos;&apos; COMMENT &apos;备注&apos;,</span><br><span class="line">`is_deleted` tinyint(4) DEFAULT &apos;1&apos; COMMENT &apos;是否删除，1 未删除，2 已删除&apos;,</span><br><span class="line">`created_tm` datetime(6) DEFAULT CURRENT_TIMESTAMP(6) COMMENT &apos;创建时间，默认是 CURRENT_TIMESTAMP(6)&apos;,</span><br><span class="line">`updated_tm` datetime(6) DEFAULT &apos;0000-00-00 00:00:00.000000&apos; ON UPDATE CURRENT_TIMESTAMP(6) COMMENT &apos;修改时间，修改时 CURRENT_TIMESTAMP(6)&apos;,</span><br><span class="line">PRIMARY KEY (`user_id`)</span><br><span class="line">) ENGINE=InnoDB AUTO_INCREMENT=241157 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT=&apos;会员信息表&apos;;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;基本规范&quot;&gt;&lt;a href=&quot;#基本规范&quot; class=&quot;headerlink&quot; title=&quot;基本规范&quot;&gt;&lt;/a&gt;基本规范&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;表存储引擎设置为innodb&lt;/li&gt;
&lt;li&gt;表字符集默认使用utf8,必要时使用utf8mb4。utf8mb
      
    
    </summary>
    
      <category term="数据库" scheme="http://yoursite.com/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="mysql" scheme="http://yoursite.com/tags/mysql/"/>
    
      <category term="数据库规范" scheme="http://yoursite.com/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A7%84%E8%8C%83/"/>
    
  </entry>
  
  <entry>
    <title>排序</title>
    <link href="http://yoursite.com/2018/10/25/sort/"/>
    <id>http://yoursite.com/2018/10/25/sort/</id>
    <published>2018-10-25T07:10:22.531Z</published>
    <updated>2018-10-25T12:13:24.513Z</updated>
    
    <content type="html"><![CDATA[<h4 id="golang-实现归并和堆排序"><a href="#golang-实现归并和堆排序" class="headerlink" title="golang 实现归并和堆排序"></a>golang 实现归并和堆排序</h4><p>1.归并排序  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">func main()&#123;</span><br><span class="line">    a := make([]int,0,0)</span><br><span class="line">    r := make([]int,0,0)</span><br><span class="line">    a = []int&#123;4,1,3,2,6,5,7&#125;</span><br><span class="line">    r = []int&#123;0,0,0,0,0,0,0&#125;</span><br><span class="line">    mergesort(a,0,6,r)</span><br><span class="line">    fmt.Println(a)</span><br><span class="line">    fmt.Println(r)</span><br><span class="line">&#125;</span><br><span class="line">func Swap(a *int,b *int)&#123;</span><br><span class="line">    temp := *a</span><br><span class="line">    *a = *b</span><br><span class="line">    *b = temp</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func mergesort(a []int,start,end int64,result []int)&#123;</span><br><span class="line"></span><br><span class="line">    if end - start == 0&#123;</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line">    if end - start == 1&#123;</span><br><span class="line">        if a[start] &gt; a[end]&#123;</span><br><span class="line">            Swap(&amp;a[start],&amp;a[end])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        mergesort(a,start,(end-start+1)/2 + start,result)</span><br><span class="line">        mergesort(a,(end-start+1)/2 +1 + start,end,result)</span><br><span class="line">        merge(a,start,end,result)</span><br><span class="line">        var i int64 =0</span><br><span class="line">        for i=start;i&lt;=end;i++&#123;</span><br><span class="line">            a[i] = result[i]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">func merge(a []int,start,end int64,result []int)&#123;</span><br><span class="line"></span><br><span class="line">    left_index  := start</span><br><span class="line">    left_length := (end-start+1)/2 +1</span><br><span class="line">    right_index := start + left_length</span><br><span class="line">    result_index := start</span><br><span class="line"></span><br><span class="line">    for  left_index &lt; start + left_length &amp;&amp; right_index &lt; end+1 &#123;</span><br><span class="line"></span><br><span class="line">        if a[left_index] &lt;= a[right_index]&#123;</span><br><span class="line">            result[result_index] = a[left_index]</span><br><span class="line">            result_index++</span><br><span class="line">            left_index++</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            result[result_index] = a[right_index]</span><br><span class="line">            right_index++</span><br><span class="line">            result_index++</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    for left_index &lt; start +left_length&#123;</span><br><span class="line">        result[result_index] = a[left_index]</span><br><span class="line">        result_index++</span><br><span class="line">        left_index++</span><br><span class="line">    &#125;</span><br><span class="line">    for right_index &lt; end+1&#123;</span><br><span class="line">        result[result_index] = a[right_index]</span><br><span class="line">        right_index++</span><br><span class="line">        result_index++</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.堆排序  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import &quot;fmt&quot;</span><br><span class="line"></span><br><span class="line">func main()&#123;</span><br><span class="line">    a := make([]int,0,0)</span><br><span class="line">    a = []int&#123;1,4,2,3,7,9,8&#125;</span><br><span class="line">    heapsort(a)</span><br><span class="line">    fmt.Println(a)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func swap(a *int,b *int)&#123;</span><br><span class="line">    temp := *a</span><br><span class="line">    *a = *b</span><br><span class="line">    *b = temp</span><br><span class="line">&#125;</span><br><span class="line">func heapsort(a []int)&#123;</span><br><span class="line"></span><br><span class="line">    //创建大顶堆</span><br><span class="line">    var i int = 0</span><br><span class="line">    var j int = 0</span><br><span class="line">    for i= len(a)/2;i&gt;=0;i--&#123;</span><br><span class="line">        heapadjust(a,i,len(a))</span><br><span class="line">    &#125;</span><br><span class="line">    for j= len(a) -1 ;j&gt;=1;j--&#123;</span><br><span class="line">        swap(&amp;a[0],&amp;a[j])</span><br><span class="line">        heapadjust(a,0,j)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">func heapadjust(a []int,i,length int)&#123;</span><br><span class="line"></span><br><span class="line">    var left int = 2*i +1</span><br><span class="line">    if left &lt; length&#123;</span><br><span class="line">        maxIndex := left</span><br><span class="line">        right := left + 1</span><br><span class="line">        if a[right] &gt; a[left] &amp;&amp; right &lt; length&#123;</span><br><span class="line">            maxIndex = right</span><br><span class="line">        &#125;</span><br><span class="line">        if a[maxIndex] &gt; a[i]&#123;</span><br><span class="line">            swap(&amp;a[maxIndex],&amp;a[i])</span><br><span class="line">            heapadjust(a,maxIndex,length)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;golang-实现归并和堆排序&quot;&gt;&lt;a href=&quot;#golang-实现归并和堆排序&quot; class=&quot;headerlink&quot; title=&quot;golang 实现归并和堆排序&quot;&gt;&lt;/a&gt;golang 实现归并和堆排序&lt;/h4&gt;&lt;p&gt;1.归并排序  &lt;/p&gt;
&lt;figu
      
    
    </summary>
    
      <category term="算法" scheme="http://yoursite.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="堆排序" scheme="http://yoursite.com/tags/%E5%A0%86%E6%8E%92%E5%BA%8F/"/>
    
      <category term="归并排序" scheme="http://yoursite.com/tags/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/"/>
    
  </entry>
  
  <entry>
    <title>单链表</title>
    <link href="http://yoursite.com/2018/10/23/list/"/>
    <id>http://yoursite.com/2018/10/23/list/</id>
    <published>2018-10-23T10:22:15.819Z</published>
    <updated>2018-10-25T12:06:44.651Z</updated>
    
    <content type="html"><![CDATA[<h4 id="单链表的创建、插入、删除-倒置"><a href="#单链表的创建、插入、删除-倒置" class="headerlink" title="单链表的创建、插入、删除 倒置"></a>单链表的创建、插入、删除 倒置</h4><ul><li>go</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">type ListNode struct&#123;</span><br><span class="line">    value int</span><br><span class="line">    next *ListNode</span><br><span class="line">&#125;</span><br><span class="line">//创建单链表</span><br><span class="line">func (this *ListNode)CreateList()*ListNode&#123;</span><br><span class="line">    </span><br><span class="line">    head := new(ListNode)</span><br><span class="line">    ptail := new(ListNode)</span><br><span class="line">    ptail = head</span><br><span class="line">    for i :=0; i &lt;= 10; i++&#123;</span><br><span class="line">         xNode := new(ListNode)     </span><br><span class="line">         xNode.value = i</span><br><span class="line">         xNode.next = nil </span><br><span class="line">         ptail.next = xNode</span><br><span class="line">         ptail = xNode</span><br><span class="line">    &#125;</span><br><span class="line">    return phead</span><br><span class="line">&#125;</span><br><span class="line">//删除节点</span><br><span class="line">func (this *ListNode)DeleteListNod(head* ListNode,val int)&#123;  </span><br><span class="line">    if head == nil&#123;</span><br><span class="line">        return nil</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    temp := new(ListNode)</span><br><span class="line">    p := new(ListNode)</span><br><span class="line">    p = head</span><br><span class="line">    for p.next != nil &amp;&amp; p.value != val&#123;</span><br><span class="line">        temp = p</span><br><span class="line">        p = p.next</span><br><span class="line">    &#125;</span><br><span class="line">    if p.value == val&#123;</span><br><span class="line">        if p == head&#123;</span><br><span class="line">            head = temp.next</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            temp.next = p.next</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return head</span><br><span class="line">&#125;</span><br><span class="line">//插入节点</span><br><span class="line">func (this *ListNode)InsertNode(head* ListNode,val int)*ListNode&#123;</span><br><span class="line">    if head == nil&#123;</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line">    xNode := new(ListNode)</span><br><span class="line">    xNode.value = val</span><br><span class="line">    xNode.next = nil</span><br><span class="line"></span><br><span class="line">    temp := new(ListNode)</span><br><span class="line">    p := new(ListNode)</span><br><span class="line">    p = head</span><br><span class="line">    for p.next != nil &amp;&amp; p.value &lt; val&#123;</span><br><span class="line">        temp = p</span><br><span class="line">        p = p.next</span><br><span class="line">    &#125;</span><br><span class="line">    if p.value &lt;= val&#123;</span><br><span class="line">        if p == head&#123;</span><br><span class="line">            head = xNode</span><br><span class="line">            xNode.next = p</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            temp.next = xNode</span><br><span class="line">            xNode.next = p</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        p.next = xNode</span><br><span class="line">        xNode.next = nil</span><br><span class="line">    &#125;</span><br><span class="line">    return head</span><br><span class="line">&#125;</span><br><span class="line">//链表倒置</span><br><span class="line">func (this *ListNode)Reverse(head* ListNode)*ListNode&#123;</span><br><span class="line">    if head==nil&#123;</span><br><span class="line">        return nil</span><br><span class="line">    &#125;</span><br><span class="line">    temp := new(ListNode)</span><br><span class="line">    p := new(ListNode)</span><br><span class="line">    p = head.next</span><br><span class="line">    head.next=nil</span><br><span class="line">    for p != nil&#123;</span><br><span class="line">        temp = temp.next</span><br><span class="line">        temp.next = head</span><br><span class="line">        head = p</span><br><span class="line">        p = temp</span><br><span class="line">    &#125;</span><br><span class="line">    return head</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>c++</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line">struct ListNode&#123;</span><br><span class="line"></span><br><span class="line">    ListNode *next;</span><br><span class="line">    int val;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">class Solution&#123;</span><br><span class="line">public:</span><br><span class="line">    ListNode* CreateListNode()&#123;</span><br><span class="line"></span><br><span class="line">        ListNode* head =new ListNode;</span><br><span class="line">        p = head;</span><br><span class="line">        for (int i =0; i &lt;10; i++)&#123;</span><br><span class="line">            ListNode* node =new ListNode;</span><br><span class="line">            node -&gt; next =NULL;</span><br><span class="line">            node -&gt; val = i;</span><br><span class="line">            p-&gt;next = node;</span><br><span class="line">            p = node;</span><br><span class="line">        &#125;</span><br><span class="line">        p-&gt;next = NULL;</span><br><span class="line">        return head;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    ListNode* DeletedListNode(ListNode* head,int val)&#123;</span><br><span class="line">        if head == NULL&#123;</span><br><span class="line">            return NULL;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode* temp = NULL;</span><br><span class="line">        ListNode* p = head;</span><br><span class="line">        while(p-&gt;next != NULL &amp;&amp; p-&gt;val != val)&#123;</span><br><span class="line">            temp = p;</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        if (p-&gt;val == val)&#123;</span><br><span class="line">            if (p == head)&#123;</span><br><span class="line">                head = p-&gt;next;</span><br><span class="line">                delete p;</span><br><span class="line">            &#125;</span><br><span class="line">            else&#123;</span><br><span class="line">                temp-&gt;next = p-&gt;next;</span><br><span class="line">                delete p;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return head;</span><br><span class="line">    &#125;</span><br><span class="line">    ListNode* InsertListNode(ListNode* head,int val)&#123;</span><br><span class="line"></span><br><span class="line">        ListNode* p = head;</span><br><span class="line">        ListNode* temp = NULL;</span><br><span class="line"></span><br><span class="line">        ListNode* node = new ListNode;</span><br><span class="line">        node-&gt;val = val;</span><br><span class="line"></span><br><span class="line">        while(p-&gt;next != NULL &amp;&amp; p-&gt;val &lt; node-&gt;val)&#123;</span><br><span class="line">            temp = p;</span><br><span class="line">            p= p-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        if (node-&gt;val &lt;= p-&gt;val)&#123;</span><br><span class="line">            if (p == head)&#123;//头部插入</span><br><span class="line">                head = node;</span><br><span class="line">                node -&gt; next = p;</span><br><span class="line">            &#125;else&#123;//中间插入</span><br><span class="line">                temp -&gt; next = node;</span><br><span class="line">                node -&gt; next = p;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;else&#123;//链表尾部插入</span><br><span class="line">            p-&gt;next = node;</span><br><span class="line">            node-&gt;next = NULL;</span><br><span class="line">        &#125;</span><br><span class="line">        return head;</span><br><span class="line">    &#125;</span><br><span class="line">    ListNode* ReverseListNode(ListNode* head)&#123;</span><br><span class="line">        if (head == NULL)&#123;</span><br><span class="line">            return NULL;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode* temp = NULL;</span><br><span class="line">        ListNode* p = head;</span><br><span class="line">        head-&gt;next = NULL;</span><br><span class="line">        while(p!=NULL)&#123;</span><br><span class="line">            temp = p-&gt;next;</span><br><span class="line">            p-&gt;next = head;</span><br><span class="line">            head = p;</span><br><span class="line">            p = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        return head;</span><br><span class="line">    &#125;</span><br><span class="line">    ListNode* DeleteListNode(ListNode* head,int val)&#123;</span><br><span class="line"></span><br><span class="line">        if (head == NULL) return NULL;</span><br><span class="line">        ListNode* temp = NULL;</span><br><span class="line">        ListNode* p = head;</span><br><span class="line">        while(val &lt; p-&gt;val &amp;&amp; p-&gt;next !=NULL)&#123;</span><br><span class="line">        temp = p;</span><br><span class="line">        p = p-&gt;next; </span><br><span class="line">        &#125;</span><br><span class="line">        if (p-&gt;val == val)&#123;</span><br><span class="line">            if (p == head)&#123;</span><br><span class="line">            head = p-&gt;next;</span><br><span class="line">            delete p;</span><br><span class="line">            &#125;else&#123;</span><br><span class="line">                temp-&gt;next = p-&gt;next;</span><br><span class="line">                delete p;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    return head;</span><br><span class="line">    &#125;</span><br><span class="line">    ListNode* InsertListNode(ListNode* head,int val)&#123;</span><br><span class="line">        </span><br><span class="line">        ListNode* temp = NULL;</span><br><span class="line">        ListNode* p = head;</span><br><span class="line"></span><br><span class="line">        ListNode* newNode = new ListNode;</span><br><span class="line">        newNode-&gt;val = val;</span><br><span class="line"></span><br><span class="line">        while(val &lt; p-&gt;val &amp;&amp; p-&gt;next !=NULL)&#123;</span><br><span class="line">        temp = p;</span><br><span class="line">        p = p-&gt;next; </span><br><span class="line">        &#125;</span><br><span class="line">        if (p-&gt;val &lt;= newNode-&gt;val )&#123;</span><br><span class="line">            if(p == head)&#123;</span><br><span class="line">                head = newNode;</span><br><span class="line">                newNode-&gt;next = p; </span><br><span class="line">            &#125;else&#123;</span><br><span class="line">                temp-&gt;next = newNode;</span><br><span class="line">                newNode-&gt;next = p;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;else&#123;//尾部插入</span><br><span class="line">            p-&gt;next = newNode;</span><br><span class="line">            newNode-&gt;next = NULL;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;单链表的创建、插入、删除-倒置&quot;&gt;&lt;a href=&quot;#单链表的创建、插入、删除-倒置&quot; class=&quot;headerlink&quot; title=&quot;单链表的创建、插入、删除 倒置&quot;&gt;&lt;/a&gt;单链表的创建、插入、删除 倒置&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;go&lt;/li&gt;
&lt;/ul
      
    
    </summary>
    
      <category term="数据结构" scheme="http://yoursite.com/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    
      <category term="链表" scheme="http://yoursite.com/tags/%E9%93%BE%E8%A1%A8/"/>
    
  </entry>
  
  <entry>
    <title>http相关特性</title>
    <link href="http://yoursite.com/2018/09/29/http/"/>
    <id>http://yoursite.com/2018/09/29/http/</id>
    <published>2018-09-29T09:15:21.013Z</published>
    <updated>2018-10-25T11:46:37.781Z</updated>
    
    <content type="html"><![CDATA[<h3 id="http通信的过程"><a href="#http通信的过程" class="headerlink" title="http通信的过程"></a>http通信的过程</h3><p>(1) 建立tcp链接<br>(2) web浏览器向web服务器发送请求命令<br>(3) web浏览器发送请求头消息<br>(4) web服务器应答<br>(5) web服务器发送应答头消息<br>(6) web服务器向浏览器发送数据<br>(7) web服务器关闭tcp链接  </p><h3 id="HTTP2-0和HTTP1-X相比的新特性"><a href="#HTTP2-0和HTTP1-X相比的新特性" class="headerlink" title="HTTP2.0和HTTP1.X相比的新特性"></a>HTTP2.0和HTTP1.X相比的新特性</h3><p>1.新的二进制格式（Binary Format），HTTP1.x的解析是基于文本。基于文本协议的格式解析存在天然缺陷，文本的表现形式有多样性，要做到健壮性考虑的场景必然很多，二进制则不同，只认0和1的组合。基于这种考虑HTTP2.0的协议解析决定采用二进制格式，实现方便且健壮。</p><p>2.多路复用（MultiPlexing），即连接共享，即每一个request都是是用作连接共享机制的。一个request对应一个id，这样一个连接上可以有多个request，每个连接的request可以随机的混杂在一起，接收方可以根据request的 id将request再归属到各自不同的服务端请求里面。</p><p>3.header压缩，如上文中所言，对前面提到过HTTP1.x的header带有大量信息，而且每次都要重复发送，HTTP2.0使用encoder来减少需要传输的header大小，通讯双方各自cache一份header fields表，既避免了重复header的传输，又减小了需要传输的大小。</p><p>4.服务端推送（server push），同SPDY一样，HTTP2.0也具有server push功能。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;http通信的过程&quot;&gt;&lt;a href=&quot;#http通信的过程&quot; class=&quot;headerlink&quot; title=&quot;http通信的过程&quot;&gt;&lt;/a&gt;http通信的过程&lt;/h3&gt;&lt;p&gt;(1) 建立tcp链接&lt;br&gt;(2) web浏览器向web服务器发送请求命令&lt;br&gt;
      
    
    </summary>
    
      <category term="协议" scheme="http://yoursite.com/categories/%E5%8D%8F%E8%AE%AE/"/>
    
    
  </entry>
  
  <entry>
    <title>first-blog</title>
    <link href="http://yoursite.com/2018/09/28/first-blog/"/>
    <id>http://yoursite.com/2018/09/28/first-blog/</id>
    <published>2018-09-28T07:23:00.411Z</published>
    <updated>2018-09-29T11:15:32.651Z</updated>
    
    <content type="html"><![CDATA[<ul><li>welcome to my first blog, to be continued 。。。。。。</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;welcome to my first blog, to be continued 。。。。。。&lt;/li&gt;
&lt;/ul&gt;

      
    
    </summary>
    
      <category term="Hello" scheme="http://yoursite.com/categories/Hello/"/>
    
    
  </entry>
  
</feed>
